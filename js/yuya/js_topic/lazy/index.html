<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>addEvent</title>
</head>
<body>
<a href="javascript:void(0);" id="btn">点我</a>
<script>
// function addEvent(type, el, fn) {
//   if (window.addEventListener) {
//     el.addEventListener(type, fn, false);
//   } else {
//     el.attachEvent('on' + type, fn);
//   }
// }


// function addEvent (type, el, fn) {
  
//     if (window.addEventListener) {
//         addEvent = function (type, el, fn) {
//             console.log(el, type, fn);
//             el.addEventListener(type, fn, false);
//         }
        
//     }
//     else if(window.attachEvent){
//         addEvent = function (type, el, fn) {
//             el.attachEvent('on' + type, fn);
//         }
//     }
//     addEvent(type, el, fn);
// }

var addEvent  = (function (type, el, fn) {
  
      if (window.addEventListener) {
          return function (type, el, fn) {
              console.log(el, type, fn);
              el.addEventListener(type, fn, false);
          }
          
      }
      else if(window.attachEvent){
        return function (type, el, fn) {
            el.attachEvent('on' + type, fn);
        }
      }
      // addEvent(type, el, fn);
  })();

addEvent('click', document.getElementById('btn'), function() {
  alert('haha');
})
</script>
</body>
</html>